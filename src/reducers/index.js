import {
  UPDATE_PUSHUPS_REPS,
  UPDATE_SITUPS_REPS,
  UPDATE_RUN_TIME,
  CALCULATE_SCORE
} from '../actions';

const PUSHUPS_SCORING = {
  '30': 16, '37': 18, '22': 11, '36': 18, '60': 25, '19': 8, '35': 18, '34': 17, '23': 12, '24': 13, '25': 14, '26': 15,
  '27': 15, '20': 9, '21': 10, '48': 21, '49': 22, '46': 21, '47': 21, '44': 20, '45': 21, '42': 20, '43': 20, '40': 20,
  '41': 20, '1': 0, '3': 0, '2': 0, '5': 0, '4': 0, '7': 0, '6': 0, '9': 0, '8': 0, '18': 6, '28': 15,
  '13': 0, '12': 0, '15': 1, '29': 16, '14': 0, '11': 0, '10': 0, '39': 19, '38': 19, '59': 24, '58': 24, '17': 4,
  '16': 2, '55': 23, '54': 23, '57': 24, '56': 23, '51': 22, '50': 22, '53': 23, '52': 22, '33': 17, '32': 17, '31': 16
}

const SITUPS_SCORING = {
  '30': 13, '37': 18, '22': 7, '36': 18, '60': 25, '19': 5, '35': 17, '34': 16, '23': 7, '24': 8, '25': 9, '26': 10,
  '27': 11, '20': 6, '21': 6, '48': 21, '49': 22, '46': 21, '47': 21, '44': 21, '45': 21, '42': 20, '43': 20, '40': 20,
  '41': 20, '1': 0, '3': 0, '2': 0, '5': 0, '4': 0, '7': 0, '6': 0, '9': 0, '8': 0, '18': 4, '28': 12,
  '13': 0, '12': 0, '15': 1, '29': 13, '14': 0, '11': 0, '10': 0, '39': 19, '38': 19, '59': 24, '58': 24, '17': 3,
  '16': 2, '55': 23, '54': 23, '57': 24, '56': 23, '51': 22, '50': 22, '53': 23, '52': 22, '33': 15, '32': 14, '31': 14
}

const RUNTIMES_SCORING = {
  '13:30': 24, '16:50': 0, '12:00': 33, '11:20': 36, '12:40': 29, '15:10': 10, '10:10': 39, '17:50': 0, '10:50': 37, '11:40': 35, '11:00': 37, '14:30': 18,
  '12:20': 31, '16:10': 0, '14:00': 21, '13:40': 23, '14:50': 14, '9:50': 40, '15:40': 4, '14:20': 19, '10:30': 38, '17:10': 0, '9:10': 44, '13:10': 26,
  '8:40': 49, '9:30': 42, '18:00': 0, '18:20': 0, '14:40': 16, '11:30': 35, '13:20': 25, '14:10': 20, '15:20': 8, '15:00': 12, '12:50': 28, '10:40': 38,
  '10:20': 39, '11:50': 34, '17:40': 0, '16:00': 1, '11:10': 36, '12:10': 32, '12:30': 30, '9:40': 41, '17:00': 0, '17:20': 0, '16:30': 0, '13:50': 22,
  '16:20': 0, '10:00': 40, '8:50': 48, '15:50': 2, '17:30': 0, '15:30': 6, '18:10': 0, '9:20': 43, '16:40': 0, '13:00': 27, '8:30': 50, '9:00': 46
}

const initialState = {
  run: '10:30',
  pushups: 30,
  situps: 30,
  score: -1
};

export default function calculator(state=initialState, action) {
  switch (action.type) {
    case UPDATE_PUSHUPS_REPS:
      return {
        ...state,
        pushups: action.payload
      }
    case UPDATE_SITUPS_REPS:
      return {
        ...state,
        situps: action.payload
      }
    case UPDATE_RUN_TIME:
      return {
        ...state,
        run: action.payload
      }
    case CALCULATE_SCORE:
      const pushupsScore = PUSHUPS_SCORING[state.pushups];
      const situpsScore = SITUPS_SCORING[state.situps];
      const runScore = RUNTIMES_SCORING[state.run];
      return {
        ...state,
        score: pushupsScore + situpsScore + runScore
      }
    default:
      return state;
  }
}
